<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Grid Calculator</title>
  <style>
 * {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
  background:white;
  font-family: Arial, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

h1 {
  margin: 0 0 20px 0;
  font-size: 32px;
  color:rgb(49, 45, 45);
  font-weight: bold;
  text-align: center;
}

h1:hover {
  color: black;
}

.calculator {
  background:#0f324e;
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  padding: 20px;
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
  width: 100%;
  max-width: 320px;
}

.display {
  background:rgb(62, 104, 62);
  color:black;
  width: 100%;
  height: 60px;
  font-size: 40px;
  margin-bottom: 20px;
  text-align: right;
  padding: 10px 20px;
  border-radius: 12px;
  border: none;
  box-shadow: inset 2px 2px 4px rgba(0,0,0,0.3), inset -2px -2px 4px rgba(255,255,255,0.1);
}

.buttons {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
}

button {
  height: 60px;
  font-size: 22px;
  font-weight: bold;
  border: none;
  border-radius: 12px;
  background: rgba(255,255,255,0.15);
  color: #e0e0e0;
  box-shadow: 4px 4px 10px rgba(0,0,0,0.4), -4px -4px 10px rgba(255,255,255,0.05);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
}

button:hover {
  transform: scale(1.05);
  background: rgba(255,255,255,0.25);
}

.buttons button:nth-child(1) {
  background: linear-gradient(145deg, #ff4d4d, #ff6666);
  color: white;
}

.buttons button:nth-child(2) {
  background: linear-gradient(145deg, #ffb347, #ffcc80);
  color: white;
}

.buttons button:nth-child(16) {
  background: linear-gradient(145deg, #13b013, #6bdf6b);
  color: white;
}

@media (max-width: 200px) {
  .calculator {
    padding: 15px;
    max-width: 90%;
  }

  .display {
    height: 50px;
    font-size: 24px;
  }

  button {
    height: 50px;
    font-size: 18px;
  }
}


 </style>
</head>
<body>
  
  <div id="app">
    <h1>CALCULATOR</h1>
  </div>
  <script>
let app = document.getElementById('app');

let calculator = document.createElement('div');
calculator.className = 'calculator';
app.appendChild(calculator);

let display = document.createElement('input');
display.className = 'display';
display.id = 'display';
display.type = 'text';
display.readOnly = true;
display.value = '0'; 
calculator.appendChild(display);

let buttons = [
  'C', '⌫', '/', '*',
  '7', '8', '9', '-',
  '4', '5', '6', '+',
  '1', '2', '3', '=',
  '0', '.', '', ''
];

let buttonGrid = document.createElement('div');
buttonGrid.className = 'buttons';
calculator.appendChild(buttonGrid);

buttons.forEach(val => {
  if (val === '') {
    let empty = document.createElement('div');
    empty.style.pointerEvents = 'none';
    buttonGrid.appendChild(empty);
    return;
  }

  let btn = document.createElement('button');
  btn.textContent = val;
  btn.addEventListener('click', () => handleButton(val));
  buttonGrid.appendChild(btn);
});

let lastResult = false;

function handleButton(value) {
  let display = document.getElementById('display');
  let operators = ['+', '-', '*', '/'];
  let currentValue = display.value;
  let lastChar = currentValue.slice(-1);

  if (value === 'C') {
    display.value = '0';
    lastResult = false;
  } 
  else if (value === '⌫') {
    display.value = currentValue.length > 1 ? currentValue.slice(0, -1) : '0';
    lastResult = false;
  } 
  else if (value === '=') {
    try {
      if (operators.includes(lastChar)) {
        display.value = 'Error';
        return;
      }
      display.value = eval(currentValue);
      lastResult = true; 
    } catch {
      display.value = 'Error';
    }
  } 
  else if (operators.includes(value)) {
    lastResult = false;
    if (currentValue === '0' && value !== '-') return;
    if (operators.includes(lastChar)) {
      display.value = currentValue.slice(0, -1) + value;
    } else {
      display.value += value;
    }
  } 
  else if (value === '.') {
    lastResult = false;
    let lastNumberBlock = currentValue.split(/[\+\-\*\/]/).pop();
    if (!lastNumberBlock.includes('.')) {
      display.value += value;
    }
  } 
  else {
    if (lastResult) {
      display.value = value; 
      lastResult = false;
    } 
    else if (currentValue === '0') {
      display.value = value; 
    } 
    else {
      display.value += value;
    }
  }
}
</script>


</body>
</html>
